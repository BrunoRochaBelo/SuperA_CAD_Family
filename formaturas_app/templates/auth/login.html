{% extends 'login_base.html' %} {% block content %}
<h2>Login</h2>
<form method="post">
  <label for="email">Email</label>
  <input
    type="email"
    id="email"
    name="email"
    placeholder="Digite seu email"
    required
    value="{{ email_valor | default('') }}"
  />

  <label for="senha">Senha</label>
  <div class="password-wrapper" style="position: relative">
    <input
      type="password"
      id="senha"
      name="senha"
      placeholder="Senha"
      required
    />
    <span
      class="toggle-password"
      onclick="togglePasswordVisibility()"
      style="
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        font-size: 16px;
        user-select: none;
      "
      title="Mostrar/ocultar senha"
    >
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <!-- Ícone de olho visível (padrão) -->
        <g id="eye-visible">
          <path
            d="M12 5C7 5 2.73 8.11 1 12C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 12C21.27 8.11 17 5 12 5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"
          />
        </g>
        <!-- Ícone de olho oculto (inicialmente escondido) -->
        <g id="eye-hidden" style="display: none">
          <path
            d="M12 5C7 5 2.73 8.11 1 12C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 12C21.27 8.11 17 5 12 5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"
          />
          <path
            d="M2 4L22 20"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
          />
        </g>
      </svg>
    </span>
  </div>
  <button type="submit" class="btn">Entrar</button>
</form>

<script>
  function togglePasswordVisibility() {
    const input = document.getElementById("senha");
    const eyeVisible = document.getElementById("eye-visible");
    const eyeHidden = document.getElementById("eye-hidden");

    if (input.getAttribute("type") === "password") {
      input.setAttribute("type", "text");
      eyeVisible.style.display = "none";
      eyeHidden.style.display = "block";
    } else {
      input.setAttribute("type", "password");
      eyeVisible.style.display = "block";
      eyeHidden.style.display = "none";
    }
  }
</script>
{% endblock %}
